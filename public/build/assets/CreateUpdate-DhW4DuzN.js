import{A as v}from"./AppLayout-C2fcH5kv.js";import{D as f,J as c,o as n,e as h,w as y,f as e,C as L,x as R,j as r,K as d,i as p,E as j,F as w,g as C}from"./index-QC1Cz5ZB.js";import{S as V}from"./SideNavBar-Do_6nNue.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={components:{AppLayout:v,SelectInputComponent:V},props:{jobRole:Object},data(){return{form:f({id:"",name:"",status:"",leave_types:[{type:"",allowed_leaves:0}]})}},mounted(){this.jobRole&&(this.form.name=this.jobRole.name,this.form.status=this.jobRole.status,this.form.leave_types=JSON.parse(this.jobRole.leave_types))},methods:{addLeave(){this.form.leave_types.push({type:"",allowed_leaves:0})},removeLeave(i){this.form.leave_types.splice(i,1)},submit(){this.form.post(this.jobRole?route("job-roles.update",this.jobRole.id):route("job-roles.store"))}}},A={class:"row"},U={class:"col-md-12"},k={class:"card mb-4"},J={class:"card-header pb-0"},g={class:"card-body"},B={class:"mb-3"},I=e("label",{for:"name",class:"form-label"},"Role Name",-1),N={class:"mb-3"},T=e("label",{class:"form-label"},"Leave Types and Allowed Leaves",-1),D={class:"col-md-5"},F=["onUpdate:modelValue"],E={class:"col-md-5"},M=["onUpdate:modelValue"],O={class:"col-md-2"},q=["onClick"],K=e("br",null,null,-1),z=e("br",null,null,-1),G=e("div",{class:"mt-3"},[e("button",{type:"submit",class:"btn btn-success"}," Save Job Role ")],-1);function H(i,o,u,P,s,l){const _=c("SelectInputComponent"),b=c("AppLayout");return n(),h(b,null,{default:y(()=>[e("div",A,[e("div",U,[e("div",k,[e("div",J,[e("h5",null,L(u.jobRole?"Update Job Role":"Create Job Role"),1)]),e("div",g,[e("form",{onSubmit:o[3]||(o[3]=R((...t)=>l.submit&&l.submit(...t),["prevent"]))},[e("div",B,[I,r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>s.form.name=t),required:""},null,512),[[d,s.form.name]])]),e("div",N,[T,(n(!0),p(w,null,j(s.form.leave_types,(t,m)=>(n(),p("div",{class:"row mb-2",key:m},[e("div",D,[r(e("input",{type:"text",class:"form-control",placeholder:"Leave Type","onUpdate:modelValue":a=>t.type=a},null,8,F),[[d,t.type]])]),e("div",E,[r(e("input",{type:"text",class:"form-control",placeholder:"Allowed Leaves","onUpdate:modelValue":a=>t.allowed_leaves=a},null,8,M),[[d,t.allowed_leaves]])]),e("div",O,[e("button",{type:"button",class:"btn btn-danger",onClick:a=>l.removeLeave(m)}," Remove ",8,q)])]))),128)),e("button",{type:"button",class:"btn btn-primary btn-sm",onClick:o[1]||(o[1]=(...t)=>l.addLeave&&l.addLeave(...t))}," + Add Leave Type "),K,z,C(_,{id:"status",label:"Status",error:s.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:s.form.status,"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.status=t)},null,8,["error","modelValue"])]),G],32)])])])])]),_:1})}const Z=S(x,[["render",H]]);export{Z as default};
