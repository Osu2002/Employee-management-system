import{L as h,D as p,J as n,o as _,e as f,w as r,f as e,g as u,C as i}from"./index-QC1Cz5ZB.js";import{A as g}from"./AppLayout-C2fcH5kv.js";import{b as y}from"./browser-CeceZ__e.js";import{h as b}from"./html2pdf-C1PPJNF9.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SideNavBar-Do_6nNue.js";const C={components:{Link:h,AppLayout:g},props:{errors:Object,employee:Object,employeeUrl:Object},data(){return{form:p({id:"",name:"",email:"",designation:"",join_date:"",end_date:"",status:"",profile_image:""}),qrCodeData:"",qrCodeImageUrl:""}},mounted(){this.generateQRCode(),this.employee&&(this.form.id=this.employee.id,this.form.name=this.employee.name,this.form.email=this.employee.email,this.form.designation=this.employee.designation,this.form.join_date=this.employee.join_date,this.form.end_date=this.employee.end_date,this.form.status=this.employee.status)},computed:{profileImage(){return this.employee&&this.employee.media.length>0?this.employee.media[0].original_url:""},formattedJoinDate(){return this.formatDate(this.employee.join_date)},formattedEndDate(){return this.formatDate(this.employee.end_date)}},methods:{generateQRCode(){const o=JSON.stringify(this.employeeUrl);this.qrCodeData=o,y.toDataURL(o,{width:180,height:150}).then(t=>{this.qrCodeImageUrl=t}).catch(t=>{console.error("Error generating QR code:",t)})},downloadCertificate(){const o=document.getElementById("certificate"),t={margin:0,filename:"internship_certificate.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"landscape"}};b().from(o).set(t).save().then(()=>{console.log("PDF downloaded successfully")}).catch(s=>{console.error("Error downloading PDF:",s)})},formatDate(o){const t=new Date(o),s={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,s)},submit(){this.form.post(this.employee?route("employee.update"):route("employee.store"))}}},v={class:"row"},k={class:"col-md-12"},w={class:"card mb-4"},j={class:"card-header pb-0"},I={class:"col-12 mb-4"},L={class:"row"},E={class:"col-1"},q=e("i",{class:"back-icon fas fa-arrow-left p-2"},null,-1),x={class:"col-11 d-flex justify-content-end"},R={class:"m-0 text-center"},U=e("h5",null,"Employee Certificate",-1),A=e("p",null,"Download Intern Certificate",-1),F=e("h1",null,null,-1),N={id:"certificate",class:"certificate"},P={style:{"background-image":"url(/backend/assets/images/fdfdfdf.jpg)","background-size":"contain","background-repeat":"no-repeat","background-position":"center center"}},B=e("img",{style:{"margin-top":"15px"},src:"/backend/assets/images/Weblook-300x65.png",alt:""},null,-1),J=e("h1",null,[e("b",null,"INTERNSHIP CERTIFICATE")],-1),O=e("p",{class:"subheading"},"This certificate is awarded to",-1),Q={class:"mb-0"},S=e("p",null,"-----------------------------------------------------------------------------------------",-1),T=e("p",{class:"details"},"for his excellent performance during his internship period",-1),V=e("p",{class:"details"},"at Weblook International (Pvt) Ltd,",-1),W={class:"details"},z={class:"qr-code"},H=["src"],M=e("div",{class:"signature"},[e("div",{class:"left"},[e("p",{class:"mb-0"},"-----------------------------"),e("p",null,"Date")]),e("div",{class:"right"},[e("p",{class:"mb-0"},"-----------------------------"),e("p",{class:"mb-0"},"Viraj Cabral"),e("p",{class:"title"},"Managing Director")])],-1);function G(o,t,s,K,l,a){const d=n("Link"),c=n("AppLayout");return _(),f(c,null,{default:r(()=>[e("div",v,[e("div",k,[e("div",w,[e("div",j,[e("div",I,[e("div",L,[e("div",E,[u(d,{class:"back-button",href:o.route("employee.edit",s.employee.id)},{default:r(()=>[q]),_:1},8,["href"])]),e("div",x,[e("h5",R,i(s.employee.name),1)])])]),U,A,e("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...m)=>a.downloadCertificate&&a.downloadCertificate(...m))},"Download"),F]),e("div",N,[e("div",P,[B,J,O,e("h2",Q,i(s.employee.name),1),S,T,V,e("p",W,"from "+i(a.formattedJoinDate)+" to "+i(a.formattedEndDate),1),e("div",z,[e("img",{src:l.qrCodeImageUrl,alt:"QR Code"},null,8,H)]),M])])])])])]),_:1})}const oe=D(C,[["render",G]]);export{oe as default};
